#!/usr/bin/env python3
#
# Copyright (c) 2022 yuriks
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in all
# copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
# SOFTWARE.

import argparse
import hashlib
from pathlib import Path
import sys
import zlib


SM_NTSC_CRC32 = 0xD63ED5F8
SM_NTSC_SHA256 = "12b77c4bc9c1832cee8881244659065ee1d84c70c3d29e6eaf92e6798cc2ca72"


def make_argument_parser():
    parser = argparse.ArgumentParser(
            description="Splits out data from an SM rom into separate data files for use with the disassembly.")
    parser.add_argument('rom_file', type=argparse.FileType('rb'),
            help="Path to input ROM file. Must be an unheadered SM NTSC ROM.")
    group = parser.add_mutually_exclusive_group(required=True)
    group.add_argument('--output', '-o', type=Path,
            help="Directory to output split files to. Will be created if it doesn't exist.")
    group.add_argument('--check', '-c', action='store_true',
            help="Simply check validity of the file instead of splitting anything.")

    return parser


def addr_to_lorom_offset(addr):
    bank = addr >> 16
    bank_offset = (addr & 0xFFFF) - 0x8000

    if bank < 0x80 or bank_offset < 0:
        raise ValueError(f"{addr:X} is not a valid LoROM address")

    return (bank - 0x80) * 0x8000 + bank_offset


def rom_valid(rom_data):
    if len(rom_data) != 0x300000: # 3MB
        print("Unexpected size: " + str(len(rom_data)))
        return False

    if zlib.crc32(rom_data) != SM_NTSC_CRC32:
        print("Unexpected CRC32: " + hex(zlib.crc32(rom_data))[2:].upper())
        return False

    if hashlib.sha256(rom_data).hexdigest() != SM_NTSC_SHA256:
        print("Unexpected SHA256: " + hashlib.sha256(rom_data).hexdigest())
        return False

    return True


def write_file(path, data):
    try:
        print(f"Writing {path}...", file=sys.stderr)
        path.write_bytes(data)
    except FileNotFoundError:
        # Try to create parent directory and try again
        print(f"Creating {path.parent}...")
        path.parent.mkdir(parents=True, exist_ok=True)
        path.write_bytes(data)


def dump_rom(rom_data, output_path):
    def dump_range(lorom_addr_start, lorom_addr_end, filename):
        offset_start = addr_to_lorom_offset(lorom_addr_start)
        offset_end = addr_to_lorom_offset(lorom_addr_end)
        if offset_start >= len(rom_data) or offset_end >= len(rom_data):
            raise ValueError("File offset out of bounds")

        data_to_dump = rom_data[offset_start:offset_end + 1]
        write_file(output_path / filename, data_to_dump)


    def dump(lorom_addr, length, filename):
        dump_range(lorom_addr, lorom_addr + length - 1, filename)



#    dump(0x9B_8000, 0x8000, "bank_9b.bin") # Grapple beam and Samus graphics
    dump(0x9B_E000, 0x0020, "SamusTiles_Top_Set8_Entry0.bin")
    dump(0x9B_E020, 0x0020, "SamusTiles_Top_Set8_Entry1.bin")
    dump(0x9B_E040, 0x0120, "SamusTiles_Top_Set8_Entry2.bin")
    dump(0x9B_E160, 0x00E0, "SamusTiles_Top_Set8_Entry3.bin")
    dump(0x9B_E240, 0x0160, "SamusTiles_Top_Set8_Entry4.bin")
    dump(0x9B_E3A0, 0x01E0, "SamusTiles_Top_Set8_Entry5.bin")
    dump(0x9B_E580, 0x0100, "SamusTiles_Top_Set8_Entry6.bin")
    dump(0x9B_E680, 0x0140, "SamusTiles_Top_Set8_Entry7.bin")
    dump(0x9B_E7C0, 0x0160, "SamusTiles_Top_Set8_Entry8.bin")
    dump(0x9B_E920, 0x00E0, "SamusTiles_Top_Set8_Entry9.bin")
    dump(0x9B_EA00, 0x0200, "SamusTiles_Bottom_Set8_Entry0.bin")
    dump(0x9B_EC00, 0x0200, "SamusTiles_Bottom_Set8_Entry1.bin")
    dump(0x9B_EE00, 0x0020, "SamusTiles_Bottom_Set8_Entry2.bin")
    dump(0x9B_EE20, 0x00C0, "SamusTiles_Top_Set9_Entry0.bin")
    dump(0x9B_EEE0, 0x00C0, "SamusTiles_Top_Set9_Entry1.bin")
    dump(0x9B_EFA0, 0x00E0, "SamusTiles_Top_Set9_Entry2.bin")
    dump(0x9B_F080, 0x0100, "SamusTiles_Top_Set9_Entry3.bin")
    dump(0x9B_F180, 0x00C0, "SamusTiles_Top_Set9_Entry4.bin")
    dump(0x9B_F240, 0x00E0, "SamusTiles_Top_Set9_Entry5.bin")
    dump(0x9B_F320, 0x0100, "SamusTiles_Top_Set9_Entry6.bin")
    dump(0x9B_F420, 0x0100, "SamusTiles_Top_Set9_Entry7.bin")
    dump(0x9B_F520, 0x0120, "SamusTiles_Top_Set9_Entry8.bin")
    dump(0x9B_F640, 0x0120, "SamusTiles_Top_Set9_Entry9.bin")
    dump(0x9B_F760, 0x0100, "SamusTiles_Top_Set9_EntryA.bin")
    dump(0x9B_F860, 0x0140, "SamusTiles_Top_Set9_EntryB.bin")
    dump(0x9B_F9A0, 0x0100, "SamusTiles_Top_Set9_EntryC.bin")
    dump(0x9B_FAA0, 0x0140, "SamusTiles_Top_Set9_EntryD.bin")
    dump(0x9B_FBE0, 0x00C0, "SamusTiles_Top_Set9_EntryE.bin")
    dump(0x9B_FCA0, 0x0100, "SamusTiles_Top_Set9_EntryF.bin")

#    dump(0x9C_8000, 0x8000, "bank_9c.bin") # Samus graphics
    dump(0x9C_8000, 0x00A0, "SamusTiles_Top_SetA_Entry0.bin")
    dump(0x9C_80A0, 0x00A0, "SamusTiles_Top_SetA_Entry1.bin")
    dump(0x9C_8140, 0x00A0, "SamusTiles_Top_SetA_Entry2.bin")
    dump(0x9C_81E0, 0x00A0, "SamusTiles_Top_SetA_Entry3.bin")
    dump(0x9C_8280, 0x00A0, "SamusTiles_Top_SetA_Entry4.bin")
    dump(0x9C_8320, 0x00A0, "SamusTiles_Top_SetA_Entry5.bin")
    dump(0x9C_83C0, 0x00A0, "SamusTiles_Top_SetA_Entry6.bin")
    dump(0x9C_8460, 0x00A0, "SamusTiles_Top_SetA_Entry7.bin")
    dump(0x9C_8500, 0x0100, "SamusTiles_Top_SetA_Entry8.bin")
    dump(0x9C_8600, 0x0200, "SamusTiles_Top_SetA_Entry9.bin")
    dump(0x9C_8800, 0x0100, "SamusTiles_Top_SetA_EntryA.bin")
    dump(0x9C_8900, 0x0200, "SamusTiles_Top_SetA_EntryB.bin")
    dump(0x9C_8B00, 0x0100, "SamusTiles_Top_SetA_EntryC.bin")
    dump(0x9C_8C00, 0x0200, "SamusTiles_Top_SetA_EntryD.bin")
    dump(0x9C_8E00, 0x0100, "SamusTiles_Top_SetA_EntryE.bin")
    dump(0x9C_8F00, 0x0200, "SamusTiles_Top_SetA_EntryF.bin")
    dump(0x9C_9100, 0x0140, "SamusTiles_Top_SetA_Entry10.bin")
    dump(0x9C_9240, 0x0160, "SamusTiles_Top_SetA_Entry11.bin")
    dump(0x9C_93A0, 0x0160, "SamusTiles_Top_SetA_Entry12.bin")
    dump(0x9C_9500, 0x0100, "SamusTiles_Top_SetA_Entry13.bin")
    dump(0x9C_9600, 0x0020, "SamusTiles_Top_SetA_Entry14.bin")
    dump(0x9C_9620, 0x0020, "SamusTiles_Top_SetB_Entry0.bin")
    dump(0x9C_9640, 0x00A0, "SamusTiles_Top_SetB_Entry1.bin")
    dump(0x9C_96E0, 0x00A0, "SamusTiles_Top_SetB_Entry2.bin")
    dump(0x9C_9780, 0x00C0, "SamusTiles_Top_SetB_Entry3.bin")
    dump(0x9C_9840, 0x0100, "SamusTiles_Top_SetB_Entry4.bin")
    dump(0x9C_9940, 0x00C0, "SamusTiles_Top_SetB_Entry5.bin")
    dump(0x9C_9A00, 0x0100, "SamusTiles_Top_SetB_Entry6.bin")
    dump(0x9C_9B00, 0x0140, "SamusTiles_Top_Set3_Entry0.bin")
    dump(0x9C_9C40, 0x0140, "SamusTiles_Top_Set3_Entry1.bin")
    dump(0x9C_9D80, 0x0180, "SamusTiles_Top_Set3_Entry2.bin")
    dump(0x9C_9F00, 0x0180, "SamusTiles_Top_Set3_Entry3.bin")
    dump(0x9C_A080, 0x0180, "SamusTiles_Top_Set3_Entry4.bin")
    dump(0x9C_A200, 0x0180, "SamusTiles_Top_Set3_Entry5.bin")
    dump(0x9C_A380, 0x0180, "SamusTiles_Top_Set3_Entry6.bin")
    dump(0x9C_A500, 0x0140, "SamusTiles_Top_Set3_Entry7.bin")
    dump(0x9C_A640, 0x0140, "SamusTiles_Top_Set3_Entry8.bin")
    dump(0x9C_A780, 0x0140, "SamusTiles_Top_Set3_Entry9.bin")
    dump(0x9C_A8C0, 0x0180, "SamusTiles_Top_Set3_EntryA.bin")
    dump(0x9C_AA40, 0x0180, "SamusTiles_Top_Set3_EntryB.bin")
    dump(0x9C_ABC0, 0x0180, "SamusTiles_Top_Set3_EntryC.bin")
    dump(0x9C_AD40, 0x0180, "SamusTiles_Top_Set3_EntryD.bin")
    dump(0x9C_AEC0, 0x0180, "SamusTiles_Top_Set3_EntryE.bin")
    dump(0x9C_B040, 0x0140, "SamusTiles_Top_Set3_EntryF.bin")
    dump(0x9C_B180, 0x0140, "SamusTiles_Top_Set3_Entry10.bin")
    dump(0x9C_B2C0, 0x01C0, "SamusTiles_Top_Set4_Entry0.bin")
    dump(0x9C_B480, 0x01C0, "SamusTiles_Top_Set4_Entry1.bin")
    dump(0x9C_B640, 0x0200, "SamusTiles_Top_Set4_Entry2.bin")
    dump(0x9C_B840, 0x0200, "SamusTiles_Top_Set4_Entry3.bin")
    dump(0x9C_BA40, 0x01E0, "SamusTiles_Top_Set4_Entry4.bin")
    dump(0x9C_BC20, 0x01E0, "SamusTiles_Top_Set4_Entry5.bin")
    dump(0x9C_BE00, 0x01E0, "SamusTiles_Top_Set4_Entry6.bin")
    dump(0x9C_BFE0, 0x01C0, "SamusTiles_Top_Set4_Entry7.bin")
    dump(0x9C_C1A0, 0x01C0, "SamusTiles_Top_Set4_Entry8.bin")
    dump(0x9C_C360, 0x01C0, "SamusTiles_Top_Set4_Entry9.bin")
    dump(0x9C_C520, 0x01E0, "SamusTiles_Top_Set4_EntryA.bin")
    dump(0x9C_C700, 0x0200, "SamusTiles_Top_Set4_EntryB.bin")
    dump(0x9C_C900, 0x0200, "SamusTiles_Top_Set4_EntryC.bin")
    dump(0x9C_CB00, 0x0200, "SamusTiles_Top_Set4_EntryD.bin")
    dump(0x9C_CD00, 0x0200, "SamusTiles_Top_Set4_EntryE.bin")
    dump(0x9C_CF00, 0x01E0, "SamusTiles_Top_Set4_EntryF.bin")
    dump(0x9C_D0E0, 0x01E0, "SamusTiles_Top_Set4_Entry10.bin")
    dump(0x9C_D2C0, 0x0120, "SamusTiles_Top_Set7_Entry0.bin")
    dump(0x9C_D3E0, 0x0120, "SamusTiles_Top_Set7_Entry1.bin")
    dump(0x9C_D500, 0x0120, "SamusTiles_Top_Set7_Entry2.bin")
    dump(0x9C_D620, 0x0140, "SamusTiles_Top_Set7_Entry3.bin")
    dump(0x9C_D760, 0x0140, "SamusTiles_Top_Set7_Entry4.bin")
    dump(0x9C_D8A0, 0x0140, "SamusTiles_Top_Set7_Entry5.bin")
    dump(0x9C_D9E0, 0x0120, "SamusTiles_Top_Set7_Entry6.bin")
    dump(0x9C_DB00, 0x0120, "SamusTiles_Top_Set7_Entry7.bin")
    dump(0x9C_DC20, 0x0120, "SamusTiles_Top_Set7_Entry8.bin")
    dump(0x9C_DD40, 0x0140, "SamusTiles_Top_Set7_Entry9.bin")
    dump(0x9C_DE80, 0x0140, "SamusTiles_Top_Set7_EntryA.bin")
    dump(0x9C_DFC0, 0x0140, "SamusTiles_Top_Set7_EntryB.bin")
    dump(0x9C_E100, 0x0140, "SamusTiles_Top_Set7_EntryC.bin")
    dump(0x9C_E240, 0x0140, "SamusTiles_Top_Set7_EntryD.bin")
    dump(0x9C_E380, 0x0140, "SamusTiles_Top_Set7_EntryE.bin")
    dump(0x9C_E4C0, 0x0140, "SamusTiles_Top_Set7_EntryF.bin")
    dump(0x9C_E600, 0x0140, "SamusTiles_Top_Set7_Entry10.bin")
    dump(0x9C_E740, 0x0140, "SamusTiles_Top_Set7_Entry11.bin")
    dump(0x9C_E880, 0x0100, "SamusTiles_Top_Set7_Entry12.bin")
    dump(0x9C_E980, 0x0100, "SamusTiles_Top_Set7_Entry13.bin")
    dump(0x9C_EA80, 0x0200, "SamusTiles_Bottom_Set9_Entry0.bin")
    dump(0x9C_EC80, 0x0200, "SamusTiles_Bottom_Set9_Entry1.bin")
    dump(0x9C_EE80, 0x0200, "SamusTiles_Bottom_Set9_Entry2.bin")
    dump(0x9C_F080, 0x0200, "SamusTiles_Bottom_Set9_Entry3.bin")
    dump(0x9C_F280, 0x0200, "SamusTiles_Bottom_Set9_Entry4.bin")
    dump(0x9C_F480, 0x0200, "SamusTiles_Bottom_Set9_Entry5.bin")
    dump(0x9C_F680, 0x0200, "SamusTiles_Bottom_Set9_Entry6.bin")
    dump(0x9C_F880, 0x0200, "SamusTiles_Bottom_Set9_Entry7.bin")

#    dump(0x9D_8000, 0x8000, "bank_9d.bin") # Samus graphics
    dump(0x9D_8000, 0x0100, "SamusTiles_Bottom_Set0_Entry0.bin")
    dump(0x9D_8100, 0x0160, "SamusTiles_Bottom_Set0_Entry1.bin")
    dump(0x9D_8260, 0x01A0, "SamusTiles_Bottom_Set0_Entry2.bin")
    dump(0x9D_8400, 0x0100, "SamusTiles_Bottom_Set0_Entry3.bin")
    dump(0x9D_8500, 0x0180, "SamusTiles_Bottom_Set0_Entry4.bin")
    dump(0x9D_8680, 0x01A0, "SamusTiles_Bottom_Set0_Entry5.bin")
    dump(0x9D_8820, 0x0180, "SamusTiles_Bottom_Set0_Entry6.bin")
    dump(0x9D_89A0, 0x0100, "SamusTiles_Bottom_Set0_Entry7.bin")
    dump(0x9D_8AA0, 0x0140, "SamusTiles_Bottom_Set0_Entry8.bin")
    dump(0x9D_8BE0, 0x0180, "SamusTiles_Bottom_Set0_Entry9.bin")
    dump(0x9D_8D60, 0x0140, "SamusTiles_Bottom_Set0_EntryA.bin")
    dump(0x9D_8EA0, 0x0180, "SamusTiles_Bottom_Set0_EntryB.bin")
    dump(0x9D_9020, 0x01C0, "SamusTiles_Bottom_Set0_EntryC.bin")
    dump(0x9D_91E0, 0x01C0, "SamusTiles_Bottom_Set0_EntryD.bin")
    dump(0x9D_93A0, 0x0180, "SamusTiles_Bottom_Set0_EntryE.bin")
    dump(0x9D_9520, 0x0180, "SamusTiles_Bottom_Set0_EntryF.bin")
    dump(0x9D_96A0, 0x0180, "SamusTiles_Bottom_Set0_Entry10.bin")
    dump(0x9D_9820, 0x00E0, "SamusTiles_Bottom_Set0_Entry11.bin")
    dump(0x9D_9900, 0x00E0, "SamusTiles_Bottom_Set0_Entry12.bin")
    dump(0x9D_99E0, 0x0120, "SamusTiles_Bottom_Set0_Entry13.bin")
    dump(0x9D_9B00, 0x0120, "SamusTiles_Bottom_Set0_Entry14.bin")
    dump(0x9D_9C20, 0x0120, "SamusTiles_Bottom_Set0_Entry15.bin")
    dump(0x9D_9D40, 0x0120, "SamusTiles_Bottom_Set0_Entry16.bin")
    dump(0x9D_9E60, 0x00C0, "SamusTiles_Bottom_Set0_Entry17.bin")
    dump(0x9D_9F20, 0x00C0, "SamusTiles_Bottom_Set0_Entry18.bin")
    dump(0x9D_9FE0, 0x0100, "SamusTiles_Bottom_Set0_Entry19.bin")
    dump(0x9D_A0E0, 0x0100, "SamusTiles_Bottom_Set0_Entry1A.bin")
    dump(0x9D_A1E0, 0x0140, "SamusTiles_Bottom_Set0_Entry1B.bin")
    dump(0x9D_A320, 0x0140, "SamusTiles_Bottom_Set0_Entry1C.bin")
    dump(0x9D_A460, 0x0180, "SamusTiles_Bottom_Set0_Entry1D.bin")
    dump(0x9D_A5E0, 0x0100, "SamusTiles_Bottom_Set0_Entry1E.bin")
    dump(0x9D_A6E0, 0x0100, "SamusTiles_Bottom_Set0_Entry1F.bin")
    dump(0x9D_A7E0, 0x0140, "SamusTiles_Bottom_Set1_Entry0.bin")
    dump(0x9D_A920, 0x0100, "SamusTiles_Bottom_Set1_Entry1.bin")
    dump(0x9D_AA20, 0x0080, "SamusTiles_Bottom_Set1_Entry2.bin")
    dump(0x9D_AAA0, 0x0140, "SamusTiles_Bottom_Set1_Entry3.bin")
    dump(0x9D_ABE0, 0x0100, "SamusTiles_Bottom_Set1_Entry4.bin")
    dump(0x9D_ACE0, 0x0100, "SamusTiles_Bottom_Set1_Entry5.bin")
    dump(0x9D_ADE0, 0x0140, "SamusTiles_Bottom_Set1_Entry6.bin")
    dump(0x9D_AF20, 0x0140, "SamusTiles_Bottom_Set1_Entry7.bin")
    dump(0x9D_B060, 0x0120, "SamusTiles_Bottom_Set1_Entry8.bin")
    dump(0x9D_B180, 0x0120, "SamusTiles_Bottom_Set1_Entry9.bin")
    dump(0x9D_B2A0, 0x0120, "SamusTiles_Bottom_Set1_EntryA.bin")
    dump(0x9D_B3C0, 0x0120, "SamusTiles_Bottom_Set1_EntryB.bin")
    dump(0x9D_B4E0, 0x0100, "SamusTiles_Bottom_Set1_EntryC.bin")
    dump(0x9D_B5E0, 0x0100, "SamusTiles_Bottom_Set1_EntryD.bin")
    dump(0x9D_B6E0, 0x0100, "SamusTiles_Bottom_Set1_EntryE.bin")
    dump(0x9D_B7E0, 0x0100, "SamusTiles_Bottom_Set1_EntryF.bin")
    dump(0x9D_B8E0, 0x0020, "SamusTiles_Bottom_Set1_Entry10.bin")
    dump(0x9D_B900, 0x0120, "SamusTiles_Bottom_Set1_Entry11.bin")
    dump(0x9D_BA20, 0x0120, "SamusTiles_Bottom_Set1_Entry12.bin")
    dump(0x9D_BB40, 0x0140, "SamusTiles_Bottom_Set1_Entry13.bin")
    dump(0x9D_BC80, 0x0100, "SamusTiles_Bottom_Set1_Entry14.bin")
    dump(0x9D_BD80, 0x0120, "SamusTiles_Bottom_Set1_Entry15.bin")
    dump(0x9D_BEA0, 0x0120, "SamusTiles_Bottom_Set1_Entry16.bin")
    dump(0x9D_BFC0, 0x0120, "SamusTiles_Bottom_Set1_Entry17.bin")
    dump(0x9D_C0E0, 0x0120, "SamusTiles_Bottom_Set1_Entry18.bin")
    dump(0x9D_C200, 0x0160, "SamusTiles_Bottom_Set1_Entry19.bin")
    dump(0x9D_C360, 0x0160, "SamusTiles_Bottom_Set1_Entry1A.bin")
    dump(0x9D_C4C0, 0x0140, "SamusTiles_Bottom_Set1_Entry1B.bin")
    dump(0x9D_C600, 0x0140, "SamusTiles_Bottom_Set1_Entry1C.bin")
    dump(0x9D_C740, 0x0100, "SamusTiles_Bottom_Set1_Entry1D.bin")
    dump(0x9D_C840, 0x00A0, "SamusTiles_Bottom_Set1_Entry1E.bin")
    dump(0x9D_C8E0, 0x00A0, "SamusTiles_Bottom_Set1_Entry1F.bin")
    dump(0x9D_C980, 0x0140, "SamusTiles_Top_Set5_Entry0.bin")
    dump(0x9D_CAC0, 0x0140, "SamusTiles_Top_Set5_Entry1.bin")
    dump(0x9D_CC00, 0x0180, "SamusTiles_Top_Set5_Entry2.bin")
    dump(0x9D_CD80, 0x0180, "SamusTiles_Top_Set5_Entry3.bin")
    dump(0x9D_CF00, 0x0180, "SamusTiles_Top_Set5_Entry4.bin")
    dump(0x9D_D080, 0x0180, "SamusTiles_Top_Set5_Entry5.bin")
    dump(0x9D_D200, 0x0180, "SamusTiles_Top_Set5_Entry6.bin")
    dump(0x9D_D380, 0x0140, "SamusTiles_Top_Set5_Entry7.bin")
    dump(0x9D_D4C0, 0x0140, "SamusTiles_Top_Set5_Entry8.bin")
    dump(0x9D_D600, 0x0140, "SamusTiles_Top_Set5_Entry9.bin")
    dump(0x9D_D740, 0x0180, "SamusTiles_Top_Set5_EntryA.bin")
    dump(0x9D_D8C0, 0x0180, "SamusTiles_Top_Set5_EntryB.bin")
    dump(0x9D_DA40, 0x0180, "SamusTiles_Top_Set5_EntryC.bin")
    dump(0x9D_DBC0, 0x0180, "SamusTiles_Top_Set5_EntryD.bin")
    dump(0x9D_DD40, 0x0180, "SamusTiles_Top_Set5_EntryE.bin")
    dump(0x9D_DEC0, 0x0140, "SamusTiles_Top_Set5_EntryF.bin")
    dump(0x9D_E000, 0x0140, "SamusTiles_Top_Set5_Entry10.bin")
    dump(0x9D_E140, 0x01C0, "SamusTiles_Top_Set6_Entry0.bin")
    dump(0x9D_E300, 0x01C0, "SamusTiles_Top_Set6_Entry1.bin")
    dump(0x9D_E4C0, 0x0200, "SamusTiles_Top_Set6_Entry2.bin")
    dump(0x9D_E6C0, 0x0200, "SamusTiles_Top_Set6_Entry3.bin")
    dump(0x9D_E8C0, 0x01E0, "SamusTiles_Top_Set6_Entry4.bin")
    dump(0x9D_EAA0, 0x01E0, "SamusTiles_Top_Set6_Entry5.bin")
    dump(0x9D_EC80, 0x01E0, "SamusTiles_Top_Set6_Entry6.bin")
    dump(0x9D_EE60, 0x01C0, "SamusTiles_Top_Set6_Entry7.bin")
    dump(0x9D_F020, 0x01C0, "SamusTiles_Top_Set6_Entry8.bin")
    dump(0x9D_F1E0, 0x01C0, "SamusTiles_Top_Set6_Entry9.bin")
    dump(0x9D_F3A0, 0x01E0, "SamusTiles_Top_Set6_EntryA.bin")
    dump(0x9D_F580, 0x0200, "SamusTiles_Top_Set6_EntryB.bin")

#    dump(0x9E_8000, 0x8000, "bank_9e.bin") # Samus graphics
    dump(0x9E_8000, 0x0100, "SamusTiles_Top_Set0_Entry0.bin")
    dump(0x9E_8100, 0x0100, "SamusTiles_Top_Set0_Entry1.bin")
    dump(0x9E_8200, 0x0120, "SamusTiles_Top_Set0_Entry2.bin")
    dump(0x9E_8320, 0x0120, "SamusTiles_Top_Set0_Entry3.bin")
    dump(0x9E_8440, 0x0100, "SamusTiles_Top_Set0_Entry4.bin")
    dump(0x9E_8540, 0x0180, "SamusTiles_Top_Set0_Entry5.bin")
    dump(0x9E_86C0, 0x0100, "SamusTiles_Top_Set0_Entry6.bin")
    dump(0x9E_87C0, 0x0100, "SamusTiles_Top_Set0_Entry7.bin")
    dump(0x9E_88C0, 0x0180, "SamusTiles_Top_Set0_Entry8.bin")
    dump(0x9E_8A40, 0x0180, "SamusTiles_Top_Set0_Entry9.bin")
    dump(0x9E_8BC0, 0x0100, "SamusTiles_Top_Set0_EntryA.bin")
    dump(0x9E_8CC0, 0x0120, "SamusTiles_Top_Set0_EntryB.bin")
    dump(0x9E_8DE0, 0x0120, "SamusTiles_Top_Set0_EntryC.bin")
    dump(0x9E_8F00, 0x0120, "SamusTiles_Top_Set0_EntryD.bin")
    dump(0x9E_9020, 0x0160, "SamusTiles_Top_Set0_EntryE.bin")
    dump(0x9E_9180, 0x0160, "SamusTiles_Top_Set0_EntryF.bin")
    dump(0x9E_92E0, 0x0100, "SamusTiles_Top_Set0_Entry10.bin")
    dump(0x9E_93E0, 0x0100, "SamusTiles_Top_Set0_Entry11.bin")
    dump(0x9E_94E0, 0x0140, "SamusTiles_Top_Set0_Entry12.bin")
    dump(0x9E_9620, 0x0140, "SamusTiles_Top_Set0_Entry13.bin")
    dump(0x9E_9760, 0x0120, "SamusTiles_Top_Set0_Entry14.bin")
    dump(0x9E_9880, 0x0180, "SamusTiles_Top_Set0_Entry15.bin")
    dump(0x9E_9A00, 0x0100, "SamusTiles_Top_Set0_Entry16.bin")
    dump(0x9E_9B00, 0x0100, "SamusTiles_Top_Set0_Entry17.bin")
    dump(0x9E_9C00, 0x0120, "SamusTiles_Top_Set0_Entry18.bin")
    dump(0x9E_9D20, 0x0120, "SamusTiles_Top_Set0_Entry19.bin")
    dump(0x9E_9E40, 0x0100, "SamusTiles_Top_Set0_Entry1A.bin")
    dump(0x9E_9F40, 0x0120, "SamusTiles_Top_Set0_Entry1B.bin")
    dump(0x9E_A060, 0x01C0, "SamusTiles_Top_Set0_Entry1C.bin")
    dump(0x9E_A220, 0x01C0, "SamusTiles_Top_Set0_Entry1D.bin")
    dump(0x9E_A3E0, 0x0140, "SamusTiles_Top_Set0_Entry1E.bin")
    dump(0x9E_A520, 0x0140, "SamusTiles_Top_Set0_Entry1F.bin")
    dump(0x9E_A660, 0x0140, "SamusTiles_Top_Set1_Entry0.bin")
    dump(0x9E_A7A0, 0x0140, "SamusTiles_Top_Set1_Entry1.bin")
    dump(0x9E_A8E0, 0x01A0, "SamusTiles_Top_Set1_Entry2.bin")
    dump(0x9E_AA80, 0x01C0, "SamusTiles_Top_Set1_Entry3.bin")
    dump(0x9E_AC40, 0x0020, "SamusTiles_Top_Set1_Entry4.bin")
    dump(0x9E_AC60, 0x0080, "SamusTiles_Top_Set1_Entry5.bin")
    dump(0x9E_ACE0, 0x0140, "SamusTiles_Top_Set1_Entry6.bin")
    dump(0x9E_AE20, 0x0140, "SamusTiles_Top_Set1_Entry7.bin")
    dump(0x9E_AF60, 0x0120, "SamusTiles_Top_Set1_Entry8.bin")
    dump(0x9E_B080, 0x0100, "SamusTiles_Top_Set1_Entry9.bin")
    dump(0x9E_B180, 0x01A0, "SamusTiles_Top_Set1_EntryA.bin")
    dump(0x9E_B320, 0x0180, "SamusTiles_Top_Set1_EntryB.bin")
    dump(0x9E_B4A0, 0x0180, "SamusTiles_Top_Set1_EntryC.bin")
    dump(0x9E_B620, 0x0100, "SamusTiles_Top_Set1_EntryD.bin")
    dump(0x9E_B720, 0x0100, "SamusTiles_Top_Set1_EntryE.bin")
    dump(0x9E_B820, 0x0100, "SamusTiles_Top_Set1_EntryF.bin")
    dump(0x9E_B920, 0x0100, "SamusTiles_Top_Set1_Entry10.bin")
    dump(0x9E_BA20, 0x0100, "SamusTiles_Top_Set1_Entry11.bin")
    dump(0x9E_BB20, 0x0100, "SamusTiles_Top_Set1_Entry12.bin")
    dump(0x9E_BC20, 0x0100, "SamusTiles_Top_Set1_Entry13.bin")
    dump(0x9E_BD20, 0x01C0, "SamusTiles_Top_Set1_Entry14.bin")
    dump(0x9E_BEE0, 0x01C0, "SamusTiles_Top_Set1_Entry15.bin")
    dump(0x9E_C0A0, 0x0020, "SamusTiles_Top_Set1_Entry16.bin")
    dump(0x9E_C0C0, 0x0020, "SamusTiles_Top_Set1_Entry17.bin")
    dump(0x9E_C0E0, 0x0120, "SamusTiles_Top_Set1_Entry18.bin")
    dump(0x9E_C200, 0x0120, "SamusTiles_Top_Set1_Entry19.bin")
    dump(0x9E_C320, 0x0140, "SamusTiles_Top_Set1_Entry1A.bin")
    dump(0x9E_C460, 0x0140, "SamusTiles_Top_Set1_Entry1B.bin")
    dump(0x9E_C5A0, 0x0140, "SamusTiles_Top_Set1_Entry1C.bin")
    dump(0x9E_C6E0, 0x0140, "SamusTiles_Top_Set1_Entry1D.bin")
    dump(0x9E_C820, 0x00C0, "SamusTiles_Top_Set2_Entry0.bin")
    dump(0x9E_C8E0, 0x0100, "SamusTiles_Top_Set2_Entry1.bin")
    dump(0x9E_C9E0, 0x0140, "SamusTiles_Top_Set2_Entry2.bin")
    dump(0x9E_CB20, 0x0100, "SamusTiles_Top_Set2_Entry3.bin")
    dump(0x9E_CC20, 0x00C0, "SamusTiles_Top_Set2_Entry4.bin")
    dump(0x9E_CCE0, 0x0100, "SamusTiles_Top_Set2_Entry5.bin")
    dump(0x9E_CDE0, 0x0120, "SamusTiles_Top_Set2_Entry6.bin")
    dump(0x9E_CF00, 0x0120, "SamusTiles_Top_Set2_Entry7.bin")
    dump(0x9E_D020, 0x0100, "SamusTiles_Top_Set2_Entry8.bin")
    dump(0x9E_D120, 0x0100, "SamusTiles_Top_Set2_Entry9.bin")
    dump(0x9E_D220, 0x0100, "SamusTiles_Top_Set2_EntryA.bin")
    dump(0x9E_D320, 0x0100, "SamusTiles_Top_Set2_EntryB.bin")
    dump(0x9E_D420, 0x0100, "SamusTiles_Top_Set2_EntryC.bin")
    dump(0x9E_D520, 0x0100, "SamusTiles_Top_Set2_EntryD.bin")
    dump(0x9E_D620, 0x0100, "SamusTiles_Top_Set2_EntryE.bin")
    dump(0x9E_D720, 0x0100, "SamusTiles_Top_Set2_EntryF.bin")
    dump(0x9E_D820, 0x0100, "SamusTiles_Top_Set2_Entry10.bin")
    dump(0x9E_D920, 0x0120, "SamusTiles_Top_Set2_Entry11.bin")
    dump(0x9E_DA40, 0x0140, "SamusTiles_Top_Set2_Entry12.bin")
    dump(0x9E_DB80, 0x0140, "SamusTiles_Top_Set2_Entry13.bin")
    dump(0x9E_DCC0, 0x0140, "SamusTiles_Top_Set2_Entry14.bin")
    dump(0x9E_DE00, 0x0140, "SamusTiles_Top_Set2_Entry15.bin")
    dump(0x9E_DF40, 0x0100, "SamusTiles_Top_Set2_Entry16.bin")
    dump(0x9E_E040, 0x0120, "SamusTiles_Top_Set2_Entry17.bin")
    dump(0x9E_E160, 0x0120, "SamusTiles_Top_Set2_Entry18.bin")
    dump(0x9E_E280, 0x0120, "SamusTiles_Top_Set2_Entry19.bin")
    dump(0x9E_E3A0, 0x0100, "SamusTiles_Top_Set2_Entry1A.bin")
    dump(0x9E_E4A0, 0x0100, "SamusTiles_Top_Set2_Entry1B.bin")
    dump(0x9E_E5A0, 0x0120, "SamusTiles_Top_Set2_Entry1C.bin")
    dump(0x9E_E6C0, 0x0100, "SamusTiles_Top_Set2_Entry1D.bin")
    dump(0x9E_E7C0, 0x0100, "SamusTiles_Top_Set2_Entry1E.bin")
    dump(0x9E_E8C0, 0x0100, "SamusTiles_Top_Set2_Entry1F.bin")
    dump(0x9E_E9C0, 0x0080, "UNUSED_SamusTiles_Bottom_Set3_Entry0_9EE9C0.bin")
    dump(0x9E_EA40, 0x0100, "UNUSED_SamusTiles_Bottom_Set3_Entry1_9EEA40.bin")
    dump(0x9E_EB40, 0x0080, "UNUSED_SamusTiles_Bottom_Set3_Entry2_9EEB40.bin")
    dump(0x9E_EBC0, 0x0100, "UNUSED_SamusTiles_Bottom_Set3_Entry3_9EEBC0.bin")
    dump(0x9E_ECC0, 0x0080, "UNUSED_SamusTiles_Bottom_Set3_Entry4_9EECC0.bin")
    dump(0x9E_ED40, 0x0100, "UNUSED_SamusTiles_Bottom_Set3_Entry5_9EED40.bin")
    dump(0x9E_EE40, 0x0080, "UNUSED_SamusTiles_Bottom_Set3_Entry6_9EEE40.bin")
    dump(0x9E_EEC0, 0x0100, "UNUSED_SamusTiles_Bottom_Set3_Entry7_9EEEC0.bin")
    dump(0x9E_EFC0, 0x0080, "UNUSED_SamusTiles_Bottom_Set3_Entry8_9EEFC0.bin")
    dump(0x9E_F040, 0x0100, "UNUSED_SamusTiles_Bottom_Set3_Entry9_9EF040.bin")
    dump(0x9E_F140, 0x0080, "UNUSED_SamusTiles_Bottom_Set3_EntryA_9EF140.bin")
    dump(0x9E_F1C0, 0x0100, "UNUSED_SamusTiles_Bottom_Set3_EntryB_9EF1C0.bin")
    dump(0x9E_F2C0, 0x0080, "UNUSED_SamusTiles_Bottom_Set3_EntryC_9EF2C0.bin")
    dump(0x9E_F340, 0x0100, "UNUSED_SamusTiles_Bottom_Set3_EntryD_9EF340.bin")
    dump(0x9E_F440, 0x0080, "UNUSED_SamusTiles_Bottom_Set3_EntryE_9EF440.bin")
    dump(0x9E_F4C0, 0x0100, "UNUSED_SamusTiles_Bottom_Set3_EntryF_9EF4C0.bin")
    dump(0x9E_F5C0, 0x0100, "UNUSED_SamusTiles_Bottom_Set3_Entry10_9EF5C0.bin")

#    dump(0x9F_8000, 0x8000, "bank_9f.bin") # Samus graphics
    dump(0x9F_8000, 0x00C0, "SamusTiles_Bottom_Set2_Entry0.bin")
    dump(0x9F_80C0, 0x0120, "SamusTiles_Bottom_Set2_Entry1.bin")
    dump(0x9F_81E0, 0x0120, "SamusTiles_Bottom_Set2_Entry2.bin")
    dump(0x9F_8300, 0x00E0, "SamusTiles_Bottom_Set2_Entry3.bin")
    dump(0x9F_83E0, 0x0100, "SamusTiles_Bottom_Set2_Entry4.bin")
    dump(0x9F_84E0, 0x0100, "SamusTiles_Bottom_Set2_Entry5.bin")
    dump(0x9F_85E0, 0x00C0, "SamusTiles_Bottom_Set2_Entry6.bin")
    dump(0x9F_86A0, 0x00E0, "SamusTiles_Bottom_Set2_Entry7.bin")
    dump(0x9F_8780, 0x00E0, "SamusTiles_Bottom_Set2_Entry8.bin")
    dump(0x9F_8860, 0x0100, "SamusTiles_Bottom_Set2_Entry9.bin")
    dump(0x9F_8960, 0x0120, "SamusTiles_Bottom_Set2_EntryA.bin")
    dump(0x9F_8A80, 0x0100, "SamusTiles_Bottom_Set2_EntryB.bin")
    dump(0x9F_8B80, 0x0100, "SamusTiles_Bottom_Set2_EntryC.bin")
    dump(0x9F_8C80, 0x0100, "SamusTiles_Bottom_Set2_EntryD.bin")
    dump(0x9F_8D80, 0x00E0, "SamusTiles_Bottom_Set2_EntryE.bin")
    dump(0x9F_8E60, 0x0100, "SamusTiles_Bottom_Set2_EntryF.bin")
    dump(0x9F_8F60, 0x0100, "SamusTiles_Bottom_Set2_Entry10.bin")
    dump(0x9F_9060, 0x00E0, "SamusTiles_Bottom_Set2_Entry11.bin")
    dump(0x9F_9140, 0x0100, "SamusTiles_Bottom_Set2_Entry12.bin")
    dump(0x9F_9240, 0x0100, "SamusTiles_Bottom_Set2_Entry13.bin")
    dump(0x9F_9340, 0x0100, "SamusTiles_Bottom_Set2_Entry14.bin")
    dump(0x9F_9440, 0x0140, "SamusTiles_Bottom_Set2_Entry15.bin")
    dump(0x9F_9580, 0x0100, "SamusTiles_Bottom_Set2_Entry16.bin")
    dump(0x9F_9680, 0x0100, "SamusTiles_Bottom_Set2_Entry17.bin")
    dump(0x9F_9780, 0x00C0, "SamusTiles_Bottom_Set4_Entry0.bin")
    dump(0x9F_9840, 0x0120, "SamusTiles_Bottom_Set4_Entry1.bin")
    dump(0x9F_9960, 0x0120, "SamusTiles_Bottom_Set4_Entry2.bin")
    dump(0x9F_9A80, 0x00E0, "SamusTiles_Bottom_Set4_Entry3.bin")
    dump(0x9F_9B60, 0x0100, "SamusTiles_Bottom_Set4_Entry4.bin")
    dump(0x9F_9C60, 0x0100, "SamusTiles_Bottom_Set4_Entry5.bin")
    dump(0x9F_9D60, 0x00C0, "SamusTiles_Bottom_Set4_Entry6.bin")
    dump(0x9F_9E20, 0x00E0, "SamusTiles_Bottom_Set4_Entry7.bin")
    dump(0x9F_9F00, 0x00E0, "SamusTiles_Bottom_Set4_Entry8.bin")
    dump(0x9F_9FE0, 0x0100, "SamusTiles_Bottom_Set4_Entry9.bin")
    dump(0x9F_A0E0, 0x0120, "SamusTiles_Bottom_Set4_EntryA.bin")
    dump(0x9F_A200, 0x0100, "SamusTiles_Bottom_Set4_EntryB.bin")
    dump(0x9F_A300, 0x0100, "SamusTiles_Bottom_Set4_EntryC.bin")
    dump(0x9F_A400, 0x0100, "SamusTiles_Bottom_Set4_EntryD.bin")
    dump(0x9F_A500, 0x00E0, "SamusTiles_Bottom_Set4_EntryE.bin")
    dump(0x9F_A5E0, 0x0100, "SamusTiles_Bottom_Set4_EntryF.bin")
    dump(0x9F_A6E0, 0x0100, "SamusTiles_Bottom_Set4_Entry10.bin")
    dump(0x9F_A7E0, 0x00E0, "SamusTiles_Bottom_Set4_Entry11.bin")
    dump(0x9F_A8C0, 0x0100, "SamusTiles_Bottom_Set4_Entry12.bin")
    dump(0x9F_A9C0, 0x0100, "SamusTiles_Bottom_Set4_Entry13.bin")
    dump(0x9F_AAC0, 0x0100, "SamusTiles_Bottom_Set4_Entry14.bin")
    dump(0x9F_ABC0, 0x0100, "SamusTiles_Bottom_Set4_Entry15.bin")
    dump(0x9F_ACC0, 0x0100, "SamusTiles_Bottom_Set4_Entry16.bin")
    dump(0x9F_ADC0, 0x00C0, "SamusTiles_Bottom_Set5_Entry0.bin")
    dump(0x9F_AE80, 0x0120, "SamusTiles_Bottom_Set5_Entry1.bin")
    dump(0x9F_AFA0, 0x0120, "SamusTiles_Bottom_Set5_Entry2.bin")
    dump(0x9F_B0C0, 0x00E0, "SamusTiles_Bottom_Set5_Entry3.bin")
    dump(0x9F_B1A0, 0x0100, "SamusTiles_Bottom_Set5_Entry4.bin")
    dump(0x9F_B2A0, 0x0100, "SamusTiles_Bottom_Set5_Entry5.bin")
    dump(0x9F_B3A0, 0x00C0, "SamusTiles_Bottom_Set5_Entry6.bin")
    dump(0x9F_B460, 0x00E0, "SamusTiles_Bottom_Set5_Entry7.bin")
    dump(0x9F_B540, 0x00E0, "SamusTiles_Bottom_Set5_Entry8.bin")
    dump(0x9F_B620, 0x0100, "SamusTiles_Bottom_Set5_Entry9.bin")
    dump(0x9F_B720, 0x0120, "SamusTiles_Bottom_Set5_EntryA.bin")
    dump(0x9F_B840, 0x0100, "SamusTiles_Bottom_Set5_EntryB.bin")
    dump(0x9F_B940, 0x0100, "SamusTiles_Bottom_Set5_EntryC.bin")
    dump(0x9F_BA40, 0x0100, "SamusTiles_Bottom_Set5_EntryD.bin")
    dump(0x9F_BB40, 0x00E0, "SamusTiles_Bottom_Set5_EntryE.bin")
    dump(0x9F_BC20, 0x0100, "SamusTiles_Bottom_Set5_EntryF.bin")
    dump(0x9F_BD20, 0x0100, "SamusTiles_Bottom_Set5_Entry10.bin")
    dump(0x9F_BE20, 0x00E0, "SamusTiles_Bottom_Set5_Entry11.bin")
    dump(0x9F_BF00, 0x0100, "SamusTiles_Bottom_Set5_Entry12.bin")
    dump(0x9F_C000, 0x0100, "SamusTiles_Bottom_Set5_Entry13.bin")
    dump(0x9F_C100, 0x0100, "SamusTiles_Bottom_Set5_Entry14.bin")
    dump(0x9F_C200, 0x0140, "SamusTiles_Bottom_Set5_Entry15.bin")
    dump(0x9F_C340, 0x0100, "SamusTiles_Bottom_Set5_Entry16.bin")
    dump(0x9F_C440, 0x0100, "SamusTiles_Bottom_Set5_Entry17.bin")
    dump(0x9F_C540, 0x00C0, "SamusTiles_Bottom_Set6_Entry0.bin")
    dump(0x9F_C600, 0x0120, "SamusTiles_Bottom_Set6_Entry1.bin")
    dump(0x9F_C720, 0x0120, "SamusTiles_Bottom_Set6_Entry2.bin")
    dump(0x9F_C840, 0x00E0, "SamusTiles_Bottom_Set6_Entry3.bin")
    dump(0x9F_C920, 0x0100, "SamusTiles_Bottom_Set6_Entry4.bin")
    dump(0x9F_CA20, 0x0100, "SamusTiles_Bottom_Set6_Entry5.bin")
    dump(0x9F_CB20, 0x00C0, "SamusTiles_Bottom_Set6_Entry6.bin")
    dump(0x9F_CBE0, 0x00E0, "SamusTiles_Bottom_Set6_Entry7.bin")
    dump(0x9F_CCC0, 0x00E0, "SamusTiles_Bottom_Set6_Entry8.bin")
    dump(0x9F_CDA0, 0x0100, "SamusTiles_Bottom_Set6_Entry9.bin")
    dump(0x9F_CEA0, 0x0120, "SamusTiles_Bottom_Set6_EntryA.bin")
    dump(0x9F_CFC0, 0x0100, "SamusTiles_Bottom_Set6_EntryB.bin")
    dump(0x9F_D0C0, 0x0100, "SamusTiles_Bottom_Set6_EntryC.bin")
    dump(0x9F_D1C0, 0x0100, "SamusTiles_Bottom_Set6_EntryD.bin")
    dump(0x9F_D2C0, 0x00E0, "SamusTiles_Bottom_Set6_EntryE.bin")
    dump(0x9F_D3A0, 0x0100, "SamusTiles_Bottom_Set6_EntryF.bin")
    dump(0x9F_D4A0, 0x0100, "SamusTiles_Bottom_Set6_Entry10.bin")
    dump(0x9F_D5A0, 0x00E0, "SamusTiles_Bottom_Set6_Entry11.bin")
    dump(0x9F_D680, 0x0100, "SamusTiles_Bottom_Set6_Entry12.bin")
    dump(0x9F_D780, 0x0100, "SamusTiles_Bottom_Set6_Entry13.bin")
    dump(0x9F_D880, 0x0100, "SamusTiles_Bottom_Set6_Entry14.bin")
    dump(0x9F_D980, 0x0100, "SamusTiles_Bottom_Set6_Entry15.bin")
    dump(0x9F_DA80, 0x0100, "SamusTiles_Bottom_Set6_Entry16.bin")
    dump(0x9F_DB80, 0x01C0, "SamusTiles_Top_SetC_Entry0.bin")
    dump(0x9F_DD40, 0x01C0, "SamusTiles_Top_SetC_Entry1.bin")
    dump(0x9F_DF00, 0x0140, "SamusTiles_Top_SetC_Entry2.bin")
    dump(0x9F_E040, 0x0140, "SamusTiles_Top_SetC_Entry3.bin")
    dump(0x9F_E180, 0x0140, "SamusTiles_Top_SetC_Entry4.bin")
    dump(0x9F_E2C0, 0x0140, "SamusTiles_Top_SetC_Entry5.bin")
    dump(0x9F_E400, 0x0140, "SamusTiles_Top_SetC_Entry6.bin")
    dump(0x9F_E540, 0x0140, "SamusTiles_Top_SetC_Entry7.bin")
    dump(0x9F_E680, 0x0080, "SamusTiles_Bottom_Set7_Entry0.bin")
    dump(0x9F_E700, 0x0200, "SamusTiles_Bottom_Set7_Entry1.bin")
    dump(0x9F_E900, 0x0200, "SamusTiles_Bottom_Set7_Entry2.bin")
    dump(0x9F_EB00, 0x0140, "SamusTiles_Bottom_SetA_Entry0.bin")
    dump(0x9F_EC40, 0x0140, "SamusTiles_Bottom_SetA_Entry1.bin")
    dump(0x9F_ED80, 0x0200, "SamusTiles_Top_Set6_EntryC.bin")
    dump(0x9F_EF80, 0x0200, "SamusTiles_Top_Set6_EntryD.bin")
    dump(0x9F_F180, 0x0200, "SamusTiles_Top_Set6_EntryE.bin")
    dump(0x9F_F380, 0x01E0, "SamusTiles_Top_Set6_EntryF.bin")
    dump(0x9F_F560, 0x01E0, "SamusTiles_Top_Set6_Entry10.bin")


def main():
    args = make_argument_parser().parse_args()

    with args.rom_file as inf:
        rom_data = inf.read()

    if not rom_valid(rom_data):
        print("Invalid ROM. Ensure it's unheadered and the NTSC version:\n"
              "Expected size: 3145728 (3 MB)\n"
              "Expected CRC32:", hex(SM_NTSC_CRC32)[2:].upper(), "\n"
              "Expected SHA256:", SM_NTSC_SHA256,
              file=sys.stderr)
        sys.exit(1)

    if not args.check:
        dump_rom(rom_data, args.output)


if __name__ == "__main__":
    main()
